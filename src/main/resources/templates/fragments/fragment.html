<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<head th:fragment="requirement">
    <link href="/css/style-manual.css" rel="stylesheet" type="text/css">
    <link href="/css/bootstrap.css" rel="stylesheet" type="text/css">

    <!-- Box Icon link-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
  <link href="/DataTables/datatables.min.css" rel="stylesheet" type="text/css"/>
</head>


<body>
    <nav th:fragment="navbar" class="side close">
        <div class="sidebar">
            <div class="logo-details">
              <div class="gambar">
                <img class="gambar-klik" src="/burat.png" alt="" id="btn">
              </div>
              <div class="logo">
                <h2 class="logo_name">SIMPel</h2>
              </div>             
          </div>
            <ul class="nav_links">
              <li>
                <a href="/">
                  <i class='bx bx-home-alt'></i>
                  <span class="link_name">Home</span>
                </a>
                <ul class="sub-menu blank">
                  <li><a class="link_name" href="/">Home</a></li>
                </ul>
              </li>
              <li>
                <div class="iocn-link">
                  <a href="#">
                    <i class='bx bx-task'></i>
                    <span class="link_name">Training</span>
                  </a>
                  <i class="bx bxs-chevron-down arrow"></i>
                </div>
                <ul class="sub-menu">
                  <li><a class="link_name"href="#">Training</a></li>
                  <li><a th:href="@{/training-catalog}">Catalog</a></li>
                  <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('admin') || #authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('executive')}">
                    <a th:href="@{/training-recommendation}">Recomendation</a></li>
                  <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('admin') || #authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('executive')}">
                    <a th:href="@{/training-plan}">Plan</a></li>
                    <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('user')}">
                        <a th:href="@{/dashboard}">Dashboard</a></li>
                </ul>
              </li>
              <li>
                <div class="iocn-link">
                  <a href="#">
                    <i class='bx bx-objects-horizontal-left'></i>
                    <span class="link_name">Competency</span>
                  </a>
                  <i class="bx bxs-chevron-down arrow"></i>
                </div>
                <ul class="sub-menu">
                  <li><a class="link_name"href="#">Competency</a></li>
                  <li><a th:href="@{/comp-dict}">Dictionary</a></li>
                  <li><a th:href="@{/competency-model}">Model</a></li>
                </ul>
              </li>
              <li>
                <div class="iocn-link">
                  <a href="#">
                    <i class='bx bx-edit' ></i>              
                    <span class="link_name">Assessment</span>
                  </a>
                  <i class="bx bxs-chevron-down arrow"></i>
                </div>
                <ul class="sub-menu">
                  <li><a class="link_name"href="#">Assessment</a></li>
                  <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('assessor')}">
                    <a th:href="@{/do-assessment}">Do</a></li>
                  <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('user') || #authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('admin') || #authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('assessor')}">
                        <a th:href="@{/review}">Review</a></li>
                  <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('admin') || #authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('executive')}">
                     <a th:href="@{/report}">Report</a></li>
                  <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('admin') || #authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('executive')  || #authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('assessor')} ">
                     <a th:href="@{/history-assessment}">History</a></li>
                </ul>
              </li>
              <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('admin')}">
                <a th:href="@{/time-management}">
                  <i class='bx bx-time'></i>
                  <span class="link_name">Time Management</span>
                </a>
                <ul class="sub-menu blank">
                  <li><a class="link_name" th:href="@{/time-management}">Time Management</a></li>
                </ul>
              </li>
              <li th:if="${#authorization.getAuthentication().getAuthorities()[0].getAuthority().toString().equals('admin')}">
                <a th:href="@{/account-management}">
                  <i class='bx bxs-user-account'></i>
                  <span class="link_name">Account Management</span>
                </a>
                <ul class="sub-menu blank">
                  <li><a class="link_name" th:href="@{/account-management}">Account Management</a></li>
                </ul>
              </li>
              <li>
                <a th:href="@{/profile}">
                  <i class='bx bxs-user-circle'></i>                    
                  <span class="link_name">Profil</span>
                </a>
                <ul class="sub-menu blank">
                  <li><a class="link_name" th:href="@{/profile}">Profil</a></li>
                </ul>
              </li>
              <li>
                <div class="profile-details">
                  <a href="/logout">
                    <i class='bx bx-log-out'></i>
                    <span class="link_name">Logout</span>
                </a>
                </div>
              </li>
            </ul>
          </div>
    </nav>
    <div th:fragment="alert-success-fragment(successtext)">
        <div class="container m-3 p-8">
            <div th:if="${successtext}" class="alert alert-success alert-dismissible" role="alert" id="success-alert">
                <div th:text="${successtext}"><i class='bx bx-check'></i></div>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </div>
    </div>
      <div th:fragment="alert-error-fragment(errortext)">
          <div class="container m-3 p-8">
              <div th:if="${errortext}" class="alert alert-danger alert-dismissible" role="alert" id="error-alert">
                  <div th:text="${errortext}"><i class='bx bx-error-alt'></i></div>
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
          </div>
      </div>
<!-- Bootstrap JS -->
  <div th:fragment="scripts">


  <script src="/b04/src/main/resources/templates/bootstrap/js/bootstrap.bundle.js">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  <script src="/Users/galantoding/Documents/Propensi/b04/src/main/resources/static/DataTables/datatables.min.js"></script>
  <script>
      let btn = document.querySelector("#btn");
      let nav = document.querySelector("nav");

      btn.onclick = function() {
          nav.classList.toggle("active");
      }
  </script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
      $('.table-paginate').dataTable();
     } );
    </script>
     <script>
        let arrow = document.querySelectorAll(".arrow");
        for (var i = 0; i <arrow.length; i++){
          arrow[i].addEventListener("click", (e) =>{
            let arrowParent = e.target.parentElement.parentElement;
            console.log(arrowParent);
            arrowParent.classList.toggle("showMenu");
          });
        }
  
        let sidebar = document.querySelector(".side");
        let sidebarBtn = document.querySelector(".gambar-klik");
        console.log(sidebarBtn);
        sidebarBtn.addEventListener("click", ()=>{
          sidebar.classList.toggle("close");
        })
      </script>
  </div>
</body>

</html>